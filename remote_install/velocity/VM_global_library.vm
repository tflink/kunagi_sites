

#macro( header $page $title $description $keywords)

#parse( "global-variables.vm" )

<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="en">

    <title>$title</title>
    <meta name="description" content="$description">
    <meta name="author" content="$authors">
    <meta name="keywords" content="$keywords">

    <meta name="og:title" content="$title">
    <meta name="og:type" content="website">
    <meta name="og:url" content="$baseurl">
    <meta name="og:image" content="$baseurl/img/$logo-image">
    <meta name="og:site_name" content="$sitename">
    <meta name="og:description" content="$description">

    <meta itemprop="name" content="$title">
    <meta itemprop="description" content="$description">
    <meta itemprop="image" content="$baseurl/img/$logo-image">

    <meta name="robots" content="index">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="default.css" type="text/css">

    ## don't need jquery right now
    ## <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>

</head>

<body>

<div id="main">

    <table cellspacing="0" cellpadding="0" width="100%"><tr>
    <td width="172px">
    <div id="menu">

            <a href="$baseurl/"><img src="img/$logo-image" height="85" alt="$sitename"></a>

            #navigLink("index", "Home", $page)
            #navigLink("blog", "Blog", $page)
            #navigLink("roadmap", "Roadmap", $page)
            #navigLink("documentation", "Documentation", $page)
            #navigLink("issues", "Issues &amp; Bugs", $page)


    </div>
    </td>

    <td>
    <div id="content">
#end


#macro( footer )
    </div><!-- content -->
    <td></tr></table>

    <div id="footer">
        This site was generated using <a href="http://kunagi.org/"> Kunagi</a>.
        All content is licenced under <a href="http://creativecommons.org/licenses/by-sa/3.0/"> CC-BY-SA 3.0</a>
        unless otherwise noted.
    </div>

</div>


</body>
</html>
#end


#macro( search )
    <div id="searchbox">
        <form action="search.html" method="GET">
            <input type="text" id="searchinput" name="q" size="16" value="Search..." onFocus="this.value=''" onBlur="this.value='Search...'">
        </form>
    </div>
#end


#macro( spacer $width $height )
    <div style="width: ${width}px; height: ${height}px;"></div>
#end

#macro( imagelinkbox $url $img $label )
    <a href="$url" target="_blank" style="display: block;">
        <img src="$img" alt="$label">
    </a>
#end


#macro( navigLink $page $label $currentPage )
    <a class="navigLink #if($page==$currentPage)navigLinkSelected#end" href="${page}.html">${label}</a>
#end





#macro( commentsSection $entity )
    #if( $entity.comments )
        <div class="separator"></div>
        <div class="section">
            <h2>Comments</h2>
            #foreach( $comment in $entity.comments )
                <p>
                    <b>$comment.date</b> by
                    <b>$comment.author</b>
                    #if ($comment.authorRoles) ($comment.authorRoles) #end
                </p>
                <div style="margin-left: 20px;">
                    $comment.text
                </div>
            #end
        </div>
    #end

#if ( $entity.id )
    <div class="separator"></div>
    <div class="section">
        <h2>Post a comment</h2>
        #commentForm("postComment", $entity.id, "Your comment", $null, "Post comment")
    </div>
#end

#end




#macro( commentForm $servlet $entityId $textLabel $visibilityCheckboxLabel $submitLabel)

#parse( "global-variables.vm" )

    <form id="commentForm" method="post" accept-charset="UTF-8">
        #if ($id)
            <input name="projectId" type="hidden" value="$id">
        #else
            <input name="projectId" type="hidden" value="ef50396a-0e3a-479b-8808-c31cdfd77fa0">
        #end
        #if ($entityId) <input name="entityId" type="hidden" value="$entityId"> #end
        <input name="returnUrl" type="hidden" value="$baseurl/message.html#{message}">
        <input id="spamPreventionCodeField" name="spamPreventionCode" type="hidden" value="spam">
        <table cellspacing="0" cellpadding="0" border="0" width="100%">
            <tr>
                <td colspan="5">
                    <label for="text">$textLabel:</label><br>
                    <textarea name="text" id="text" rows="10" cols="50" style="width: 685px;"></textarea><br>
                    #if ($visibilityCheckboxLabel)
                        <br>
                        <input type="checkbox" name="publish" id="publish" value="true">
                        <label for="publish">$visibilityCheckboxLabel</label><br>
                    #else
                        <input type="hidden" name="publish" id="publish" value="true">
                    #end
                    <br>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sublabel">optional</div>
                    <label for="name" class="optional">Name:</label>
                </td>
                <td>
                    <input type="text" name="name" id="name" class="textinput">
                </td>
                <td>
                    <div class="sublabel">optional</div>
                    <label for="email" class="optional">E-Mail:</label>
                </td>
                <td>
                    <input type="text" name="email" id="email" class="textinput">
                </td>
                <td id="commentFormSubmitButtonContainer" align="right">

                </td>
            </tr>
        </table>
    </form>
    <script type="text/javascript">
        var buttonHtml = '<input id="commentFormSubmitButton" type="submit" name="submit" class="submit" value="$submitLabel">';
        $(document.getElementById('commentFormSubmitButtonContainer')).append(buttonHtml);
        $(document.getElementById('commentForm')).attr('action', '$appurl/$servlet');
        var spamPreventionCode = 'no-spam';
        $(document.getElementById('spamPreventionCodeField')).attr('value', spamPreventionCode);
    </script>
#end


# this is stuff that we're not using right now, may use later
## #macro( blogRssLink )
##     <a href="http://feeds.feedburner.com/something" style="float: right; line-height: 16px;">RSS Feed</a>
##     <a href="http://feeds.feedburner.com/something" style="float: right;"><img src="img/rss.png" alt="RSS" style="margin-right: 5px;"></a>
## #end


## #macro( githubBox )
##     imagelinkbox("http://github.com/tflink/remote_install", "http://github.com/images/modules/header/logov3-hover.png", "GitHub")
## #end


